<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>El Universo de Salom√©</title>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600&family=Montserrat:wght@300;400;600&family=Playfair+Display:ital,wght@0,400;1,400&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-glow: #ff9ecf; /* Rosa */
            --bg-color: #050505;
            --glass-bg: rgba(20, 20, 25, 0.75);
            --border-glass: rgba(255, 158, 207, 0.3);
            --gold-accent: #ffd700;
        }

        * { box-sizing: border-box; }

        body {
            margin: 0;
            overflow: hidden;
            background-color: var(--bg-color);
            color: #f0f0f0;
            font-family: 'Montserrat', sans-serif;
        }

        canvas { position: absolute; top: 0; left: 0; z-index: 0; }

        .screen {
            position: relative;
            z-index: 10;
            height: 100vh;
            width: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            transition: opacity 1s ease;
            padding: 20px;
        }

        .hidden { display: none !important; opacity: 0; }

        /* --- TIPOGRAF√çA --- */
        h1, h2 { font-family: 'Cinzel', serif; letter-spacing: 3px; text-transform: uppercase; }
        .serif-text { font-family: 'Playfair Display', serif; font-style: italic; }
        
        /* --- 1. PRELUDIO (RELOJ) --- */
        #prelude-screen {
            background: radial-gradient(circle at center, rgba(30,30,40,0.95), #000);
            z-index: 20;
        }

        .clock-container {
            font-family: 'Cinzel', serif;
            font-size: 5rem;
            margin: 20px 0;
            text-shadow: 0 0 30px var(--primary-glow);
            font-weight: 400;
        }

        .date-display {
            font-size: 1.2rem;
            letter-spacing: 4px;
            color: #aaa;
            margin-bottom: 20px;
            text-transform: uppercase;
        }

        /* EL SELLO (CORAZ√ìN LATIENDO) */
        #seal-btn {
            width: 120px;
            height: 120px;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            filter: drop-shadow(0 0 20px var(--primary-glow));
            animation: heartbeat 2s infinite;
            transition: transform 0.5s;
        }
        #seal-btn svg {
            width: 100%;
            height: 100%;
            fill: url(#grad1); 
        }
        #seal-btn:hover { transform: scale(1.15); filter: drop-shadow(0 0 40px var(--primary-glow)); }

        /* --- 2. INTRODUCCI√ìN --- */
        .intro-card {
            background: rgba(10, 10, 10, 0.8);
            padding: 40px;
            border-radius: 20px;
            border: 1px solid var(--border-glass);
            backdrop-filter: blur(10px);
            max-width: 700px;
            max-height: 80vh;
            overflow-y: auto;
        }
        
        .intro-text-block {
            text-align: justify;
            line-height: 1.8;
            font-size: 1rem;
            margin: 20px 0;
            color: #ddd;
        }

        /* --- 3. EL UNIVERSO --- */
        .universe-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 30px;
            max-width: 900px;
            margin-top: 30px;
        }
        
        .planet {
            width: 100px; height: 100px;
            border-radius: 50%;
            display: flex; flex-direction: column;
            justify-content: center; align-items: center;
            backdrop-filter: blur(8px);
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.15);
            box-shadow: 0 0 15px rgba(255, 158, 207, 0.1);
            transition: all 0.4s ease;
            cursor: pointer;
        }
        .planet:hover {
            transform: scale(1.15) translateY(-5px);
            border-color: var(--primary-glow);
            box-shadow: 0 0 35px var(--primary-glow);
        }
        .planet span { font-size: 0.7rem; margin-top: 5px; text-transform: uppercase; letter-spacing: 1px; }
        .planet-icon { font-size: 1.8rem; margin-bottom: 5px; filter: drop-shadow(0 0 5px white); }

        /* EASTER EGG FINAL: FOOTER */
        .engineer-footer {
            position: absolute;
            bottom: 20px;
            width: 100%;
            text-align: center;
            font-family: 'Playfair Display', serif;
            font-size: 0.8rem;
            color: rgba(255,255,255,0.4);
            pointer-events: none;
        }

        /* --- MODALES --- */
        .modal-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.9); z-index: 100;
            backdrop-filter: blur(8px);
            display: flex; justify-content: center; align-items: center;
            opacity: 0; pointer-events: none; transition: 0.5s;
        }
        .modal-overlay.active { opacity: 1; pointer-events: all; }

        .modal-content {
            background: linear-gradient(145deg, #151515, #0a0a0a);
            width: 90%; max-width: 600px; max-height: 85vh;
            overflow-y: auto; padding: 40px 30px;
            border-radius: 20px;
            border: 1px solid var(--border-glass);
            box-shadow: 0 0 50px rgba(255, 158, 207, 0.1);
            text-align: left;
            transform: translateY(30px); transition: 0.5s;
        }
        .modal-overlay.active .modal-content { transform: translateY(0); }

        /* Estilo Carta */
        .letter-scroll {
            font-family: 'Playfair Display', serif;
            font-size: 1.05rem;
            line-height: 1.8;
            color: #e0e0e0;
            padding-right: 10px;
        }
        .letter-scroll p { margin-bottom: 20px; }

        /* Estilo Tags */
        .tags-container {
            display: flex; flex-wrap: wrap; gap: 10px; justify-content: center; margin-top: 20px;
        }
        .tag {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.2);
            padding: 8px 15px; border-radius: 20px; font-size: 0.9rem; color: #ddd; transition: 0.3s;
        }
        .tag:hover {
            background: var(--primary-glow); color: black; border-color: var(--primary-glow);
        }

        /* Estilo Foto Lirio */
        .lily-frame {
            width: 100%; height: 250px; border-radius: 15px; overflow: hidden;
            border: 1px solid var(--border-glass); margin-top: 20px; position: relative;
        }
        .lily-frame img {
            width: 100%; height: 100%; object-fit: cover; transition: transform 1s;
        }
        .lily-frame:hover img { transform: scale(1.1); }

        /* --- AUDIO PLAYER PERSONALIZADO --- */
        .audio-player-wrapper {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid var(--border-glass);
            padding: 20px;
            border-radius: 15px;
            margin-top: 30px;
            display: flex;
            align-items: center;
            gap: 15px;
        }
        .play-btn-custom {
            width: 50px; height: 50px;
            background: var(--primary-glow);
            border-radius: 50%;
            border: none;
            display: flex; justify-content: center; align-items: center;
            cursor: pointer;
            color: black;
            font-size: 1.2rem;
            transition: 0.3s;
        }
        .play-btn-custom:hover { transform: scale(1.1); }

        /* --- C√ÅPSULA DEL TIEMPO (DESEO) --- */
        .wish-section {
            margin-top: 40px;
            border-top: 1px solid rgba(255,255,255,0.1);
            padding-top: 30px;
            text-align: center;
        }
        .wish-input {
            width: 100%;
            background: transparent;
            border: none;
            border-bottom: 2px solid var(--primary-glow);
            color: white;
            padding: 15px;
            font-size: 1.1rem;
            font-family: 'Playfair Display', serif;
            margin-bottom: 20px;
            text-align: center;
            outline: none;
        }
        .wish-input::placeholder { color: rgba(255,255,255,0.3); }
        
        .send-wish-btn {
            background: transparent;
            border: 1px solid white;
            color: white;
            padding: 10px 30px;
            border-radius: 20px;
            cursor: pointer;
            transition: 0.3s;
        }
        .send-wish-btn:hover { background: white; color: black; }

        /* ANIMACIONES */
        @keyframes heartbeat { 0% { transform: scale(1); } 50% { transform: scale(1.1); } 100% { transform: scale(1); } }
        
        @media (max-width: 768px) {
            .universe-grid { grid-template-columns: repeat(2, 1fr); gap: 20px; }
            .clock-container { font-size: 3.5rem; }
            h1 { font-size: 1.8rem; }
            .engineer-footer { position: relative; margin-top: 40px; padding-bottom: 20px; }
        }
    </style>
</head>
<body>

    <canvas id="starfield"></canvas>

    <svg style="width:0;height:0;position:absolute;" aria-hidden="true" focusable="false">
        <linearGradient id="grad1" x1="0%" y1="0%" x2="100%" y2="100%">
          <stop offset="0%" style="stop-color:#ff9ecf;stop-opacity:1" />
          <stop offset="100%" style="stop-color:#d63384;stop-opacity:1" />
        </linearGradient>
    </svg>

    <div id="prelude-screen" class="screen">
        <audio id="bg-music" loop>
            <source src="https://cdn.pixabay.com/download/audio/2022/03/10/audio_5b66723232.mp3" type="audio/mpeg">
        </audio>

        <div id="clock-wrapper">
            <div class="date-display">20 de Enero</div>
            <div id="real-clock" class="clock-container">--:--</div>
            <p style="opacity: 0.6; font-size: 0.9rem; letter-spacing: 1px;">Esperando el momento...</p>
            
            <button onclick="startMusic()" id="init-btn" style="margin-top: 30px; background: transparent; border: 1px solid #555; color: #888; padding: 10px 20px; border-radius: 20px; cursor: pointer; font-size: 0.7rem; text-transform: uppercase;">
                Activar Sonido
            </button>
        </div>

        <div id="unlock-container" class="hidden">
            <div id="seal-btn" onclick="openLetterDirectly()">
                <svg viewBox="0 0 24 24">
                    <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>
                </svg>
            </div>
            <p style="margin-top: 20px; font-family: 'Playfair Display'; font-style: italic; opacity: 0.8;">Tu deseo est√° aqu√≠.</p>
        </div>
    </div>

    <div id="intro-screen" class="screen hidden">
        <div class="intro-card">
            <h1>Para Salom√©</h1>
            <p class="serif-text" style="color: var(--primary-glow); font-size: 1.1rem; margin-top: 10px;">
                "Tu cumplea√±os no necesita ser el d√≠a perfecto, porque t√∫ ya eres la celebraci√≥n perfecta."
            </p>
            
            <div class="intro-text-block">
                <p>Cuando uno es peque√±o es un poco inmaduro y tal vez no tiene la capacidad mental o sabidur√≠a para tomar buenas decisiones... A√∫n as√≠, mi yo de 15 a√±os tom√≥ una de las mejores decisiones que he tenido en mi vida, una de la que nunca me arrepentir√© y fue haberte conocido.</p>
                <p>De ah√≠ nace la idea de esta p√°gina, no es una wikipedia ni es un manual para aprender de ti; m√°s bien es una recopilaci√≥n de algunas de las cosas m√°s importantes sobre ti que recuerdo, por si alg√∫n d√≠a lo olvido o pierdo la memoria, podr√© volver ac√° y recordar esta etapa tan hermosa, pero sobre todo, a una persona tan especial.</p>
            </div>
            
            <button onclick="enterUniverse()" style="background: var(--primary-glow); border: none; padding: 15px 50px; border-radius: 30px; font-weight: bold; cursor: pointer; color: #000; font-size: 1rem; margin-top: 20px;">
                EXPLORAR TU UNIVERSO
            </button>
        </div>
    </div>

    <div id="universe-screen" class="screen hidden">
        <h2 style="margin-bottom: 10px;">El Universo de Salom√©</h2>
        
        <div class="universe-grid">
            <div class="planet p1" onclick="openModal('modal-esencia')">
                <div class="planet-icon">üéÄ</div>
                <span>Esencia</span>
            </div>
            <div class="planet p2" onclick="openModal('modal-jardin')">
                <div class="planet-icon">‚öúÔ∏è</div>
                <span>Jard√≠n</span>
            </div>
            <div class="planet p3" onclick="openModal('modal-musica')">
                <div class="planet-icon">üéµ</div>
                <span>Frecuencia</span>
            </div>
            <div class="planet p4" onclick="openModal('modal-gustos')">
                <div class="planet-icon">ü™ê</div>
                <span>Galaxia</span>
            </div>
            <div class="planet p5" onclick="openModal('modal-carta')">
                <div class="planet-icon">üíå</div>
                <span>Bit√°cora</span>
            </div>
            <div class="planet p6" onclick="openModal('modal-oraculo')">
                <div class="planet-icon">‚ú®</div>
                <span>Or√°culo</span>
            </div>
        </div>

        <div class="engineer-footer">
            "El c√≥digo de esta p√°gina tiene miles de l√≠neas, pero todas dicen lo mismo: que seas feliz, hoy y siempre."
        </div>
    </div>

    <div id="modal-carta" class="modal-overlay" onclick="closeModal(event)">
        <div class="modal-content">
            <button class="close-modal" onclick="forceClose()">√ó</button>
            <h2>11:11 - El Deseo</h2>
            <div class="letter-scroll">
                <p>Una noche cualquiera me dijiste: ¬´11:11, pide un deseo¬ª y yo ni siquiera sab√≠a el porqu√©; me sent√≠ confundido porque no ten√≠a idea sobre esa costumbre pero de ah√≠ en adelante, cada vez que est√°bamos hablando a esa hora, siempre me recordabas el deseo.</p>
                <p>Es tonto, pero as√≠ son las cosas que te marcan la vida; hoy en d√≠a es imposible que sean las 11:11 y yo no me acuerde de ti, como as√≠ mismo es imposible olvidar tu cumplea√±os. Por eso, el d√≠a de hoy mi deseo de 11:11 lo sabr√°s t√∫, o m√°s bien, es para ti.</p>
                <p>El deseo del d√≠a de hoy ir√° dividido en diferentes sectores. Obviamente el primero es lo que m√°s anhele todo el tiempo que estuve a tu lado y fue <strong>que estuvieras bien</strong>. Es la base de todo.</p>
                <p>S√© que tus estudios son muy importantes para ti, as√≠ que deseo que este nuevo a√±o de vida est√© cargado de buenas noticias siempre, que seas esa gran profesional de sanidad.</p>
                <p>Tambi√©n, s√© que amas mucho a tu familia, as√≠ que les deseo lo mejor a todos, ojal√° que entre todos logren tener un a√±o maravilloso.</p>
                <p>Nunca creas que no cumplir√© la promesa de siempre estar a tu lado. S√≠ lo estoy, de lejos porque son las circunstancias del momento pero usted sabe que cuenta conmigo si lo necesita.</p>
                <p>Quisiera tanto tener la voz de un cantante, para no solo recitar sin√≥ cantarte.</p>
                <p style="text-align: right; margin-top: 30px;">‚Äî Miguel</p>
            </div>

            <div class="audio-player-wrapper">
                <button class="play-btn-custom" onclick="toggleVoiceNote()">‚ñ∂</button>
                <div>
                    <span style="font-size: 0.9rem; font-weight: bold; color: #fff;">Nota de voz.mp3</span><br>
                    <span style="font-size: 0.7rem; color: #aaa;">"Solo quer√≠a que escucharas..."</span>
                </div>
                <audio id="miguel-voice">
                    <source src="nota_voz.mp3" type="audio/mpeg">
                </audio>
            </div>

            <div class="wish-section">
                <h3 style="font-family: 'Cinzel', serif; font-size: 1rem; color: var(--gold-accent);">C√°psula del Tiempo</h3>
                <p style="font-size: 0.85rem; margin-bottom: 15px;">Pide tu deseo de este a√±o aqu√≠. El universo (y yo) nos encargaremos de hacer fuerza.</p>
                
                <form id="wishForm" action="https://formsubmit.co/7076551@gmail.com" method="POST">
                    <input type="hidden" name="_captcha" value="false">
                    <input type="hidden" name="_next" value="http://localhost:8000/thanks.html"> <input type="text" name="deseo" class="wish-input" placeholder="Escribe tu deseo aqu√≠..." required autocomplete="off">
                    <button type="submit" class="send-wish-btn">Enviar al Universo</button>
                </form>
                <p id="wish-success" style="display:none; color: var(--primary-glow); margin-top: 10px; font-style: italic;">
                    Deseo guardado. Yo me encargar√© de hacer fuerza desde aqu√≠ para que se cumpla.
                </p>
            </div>

            <button onclick="finishLetter()" style="width: 100%; padding: 15px; margin-top: 30px; background: transparent; border: 1px solid var(--primary-glow); color: white; border-radius: 10px; cursor: pointer;">
                Continuar al Universo &rarr;
            </button>
        </div>
    </div>

    <div id="modal-esencia" class="modal-overlay" onclick="closeModal(event)">
        <div class="modal-content">
            <button class="close-modal" onclick="forceClose()">√ó</button>
            <h2>Tu Esencia</h2>
            <p>Aunque empezaste en azul, hoy tu mundo es <strong>Rosa</strong>. Y te queda perfecto.</p>
            <div style="display: flex; gap: 20px; margin-top: 20px; text-align: center;">
                <div style="flex: 1;">
                    <span style="font-size: 2rem;">‚ú®</span>
                    <p style="font-size: 0.9rem;"><strong>Skincare</strong><br>Limpiador en aceite & Rutina sagrada.</p>
                </div>
                <div style="flex: 1;">
                    <span style="font-size: 2rem;">üíÜ‚Äç‚ôÄÔ∏è</span>
                    <p style="font-size: 0.9rem;"><strong>Cabello</strong><br>Siempre divino con su gorrito de sat√≠n.</p>
                </div>
            </div>
            <p style="margin-top: 20px; font-style: italic;">"Admiro tu disciplina. Eres arte cuid√°ndose a s√≠ misma."</p>
        </div>
    </div>

    <div id="modal-jardin" class="modal-overlay" onclick="closeModal(event)">
        <div class="modal-content">
            <button class="close-modal" onclick="forceClose()">√ó</button>
            <h2>Jard√≠n Secreto</h2>
            <p>Ni rosas, ni tulipanes. Para ti, la elegancia de un <strong>LIRIO</strong>.</p>
            <div class="lily-frame">
                <img src="https://images.unsplash.com/photo-1591166746669-e0d86e9273f5?q=80&w=600&auto=format&fit=crop" alt="Lirio">
            </div>
            <p style="margin-top: 15px; font-size: 0.9rem;">Como cuando salvas a una ara√±a en lugar de matarla. Tu delicadeza es tu mayor fuerza.</p>
        </div>
    </div>

    <div id="modal-musica" class="modal-overlay" onclick="closeModal(event)">
        <div class="modal-content">
            <button class="close-modal" onclick="forceClose()">√ó</button>
            <h2>Frecuencia Estelar</h2>
            <p>No son tus artistas favoritos, son <strong>las canciones que te dediqu√©</strong>. Las que hablan por m√≠ cuando no tengo voz.</p>
            <div style="background: #111; padding: 20px; border-radius: 10px; border: 1px solid #333; text-align: center; margin-top: 20px;">
                <p style="font-size: 2rem; margin: 0;">üéß</p>
                <h3 style="margin: 10px 0; color: white;">Playlist para Ti</h3>
                <p style="color: #888; font-size: 0.9rem; margin-bottom: 20px;">Una recopilaci√≥n de sentimientos.</p>
                <a href="#" target="_blank" style="background: #1DB954; color: black; padding: 10px 20px; border-radius: 20px; text-decoration: none; font-weight: bold;">
                    Abrir en Spotify
                </a>
            </div>
        </div>
    </div>

    <div id="modal-gustos" class="modal-overlay" onclick="closeModal(event)">
        <div class="modal-content" style="text-align: center;">
            <button class="close-modal" onclick="forceClose()">√ó</button>
            <h2>Galaxia de Gustos</h2>
            <p style="margin-bottom: 20px;">Peque√±as cosas que te hacen ser t√∫.</p>
            <div class="tags-container">
                <span class="tag">üçù Pasta Carbonara</span>
                <span class="tag">ü•û Pancakes</span>
                <span class="tag">ü•≠ Mango</span>
                <span class="tag">üå∂Ô∏è Takis Fuego</span>
                <span class="tag">üç´ Kinder</span>
                <span class="tag">üí§ Dormir (Mucho)</span>
                <span class="tag">üê∂ Snoopy</span>
                <span class="tag">üë∏ Rapunzel</span>
                <span class="tag">üêÆ Una Vaca</span>
                <span class="tag">üá¨üáß Londres</span>
                <span class="tag">üéÆ Among Us</span>
            </div>
        </div>
    </div>

    <div id="modal-oraculo" class="modal-overlay" onclick="closeModal(event)">
        <div class="modal-content" style="text-align: center;">
            <button class="close-modal" onclick="forceClose()">√ó</button>
            <h2>El Or√°culo</h2>
            <p style="font-size: 0.9rem; opacity: 0.8;">Un mensaje para cuando necesites una se√±al.</p>
            <div id="oracle-msg" style="min-height: 80px; display: flex; align-items: center; justify-content: center; font-style: italic; color: var(--primary-glow); font-size: 1.2rem; margin: 20px 0;">...</div>
            <button onclick="getOracle()" style="padding: 12px 30px; border-radius: 25px; border: none; background: var(--primary-glow); color: black; cursor: pointer; font-weight: bold;">Recibir Se√±al</button>
        </div>
    </div>

    <script>
        // === CONFIGURACI√ìN ===
        // Recuerda: Mes 0 = Enero.
        const targetDate = new Date(2024, 0, 20, 23, 11, 0); 
        
        // --- L√ìGICA DEL TIEMPO ---
        let unlocked = false;

        function checkTime() {
            if(unlocked) return;
            const now = new Date();
            const clockEl = document.getElementById('real-clock');
            
            const hours = String(now.getHours()).padStart(2, '0');
            const minutes = String(now.getMinutes()).padStart(2, '0');
            clockEl.innerText = `${hours}:${minutes}`;

            if (now >= targetDate) {
                unlocked = true;
                // EASTER EGG 1: MODO 11:11 (Oscurecer y brillar)
                document.getElementById('prelude-screen').style.background = "radial-gradient(circle at center, #2a0a18, #000)"; // Fondo rojizo oscuro
                document.getElementById('clock-wrapper').classList.add('hidden');
                const unlockContainer = document.getElementById('unlock-container');
                unlockContainer.classList.remove('hidden');
                setTimeout(() => { unlockContainer.style.opacity = 1; }, 100);
            }
        }
        setInterval(checkTime, 1000);
        checkTime();

        // --- NAVEGACI√ìN ---
        function startMusic() {
            document.getElementById('bg-music').play().catch(e => console.log("Audio play failed"));
            document.getElementById('init-btn').style.display = 'none';
        }

        function openLetterDirectly() {
            document.getElementById('prelude-screen').style.opacity = 0;
            setTimeout(() => {
                document.getElementById('prelude-screen').classList.add('hidden');
                const intro = document.getElementById('intro-screen');
                intro.classList.remove('hidden'); 
                intro.style.opacity = 1;
                openModal('modal-carta'); 
            }, 800);
        }

        function finishLetter() {
            document.querySelector('#modal-carta').classList.remove('active');
            // Si la nota de voz est√° sonando, pausarla
            const voice = document.getElementById('miguel-voice');
            voice.pause();
        }

        function enterUniverse() {
            document.getElementById('intro-screen').style.opacity = 0;
            setTimeout(() => {
                document.getElementById('intro-screen').classList.add('hidden');
                const uni = document.getElementById('universe-screen');
                uni.classList.remove('hidden');
                uni.style.opacity = 1;
            }, 800);
        }

        // --- L√ìGICA DE LA NOTA DE VOZ ---
        function toggleVoiceNote() {
            const audio = document.getElementById('miguel-voice');
            const btn = document.querySelector('.play-btn-custom');
            
            if (audio.paused) {
                audio.play();
                btn.innerText = "‚ùö‚ùö"; // Icono pausa
            } else {
                audio.pause();
                btn.innerText = "‚ñ∂"; // Icono play
            }
            
            audio.onended = function() {
                btn.innerText = "‚ñ∂";
            };
        }

        // --- L√ìGICA DEL FORMULARIO DE DESEO (AJAX) ---
        const wishForm = document.getElementById('wishForm');
        wishForm.addEventListener('submit', function(e) {
            e.preventDefault(); // Evita que la p√°gina se recargue
            
            const formData = new FormData(wishForm);
            
            // Env√≠o as√≠ncrono a FormSubmit
            fetch(wishForm.action, {
                method: 'POST',
                body: formData,
                headers: {
                    'Accept': 'application/json'
                }
            })
            .then(response => {
                // Ocultar form y mostrar mensaje de √©xito
                wishForm.style.display = 'none';
                document.getElementById('wish-success').style.display = 'block';
            })
            .catch(error => {
                alert("Hubo un error enviando el deseo. Intenta de nuevo.");
            });
        });

        // --- OR√ÅCULO ---
        const oracleMsgs = [
            "Eres una princesa, no aceptes menos de lo que mereces.",
            "Tu abuela gu√≠a cada paso que das hoy.",
            "Eres capaz de ser la mejor profesional de la salud.",
            "Hoy brillas m√°s que el sol, aunque el d√≠a est√© gris.",
            "Recuerda: Si hace fr√≠o, tres cobijas y un t√©.",
            "Snoopy estar√≠a orgulloso de tu sonrisa hoy.",
            "Eres magia, eres rosa, eres luz.",
            "Mereces un descanso. La mujer maravilla tambi√©n duerme.",
            "Tus ojos son el paisaje m√°s lindo del universo.",
            "Todo el esfuerzo de hoy valdr√° la pena ma√±ana.",
            "Eres fuerte, independiente, pero est√° bien pedir un abrazo.",
            "Tu cabello hoy se ve espectacular.",
            "C√≥mete ese dulce, te lo mereces.",
            "Tu coraz√≥n noble es tu mayor tesoro.",
            "Respira. Lo est√°s haciendo incre√≠ble."
        ];
        function getOracle() {
            const el = document.getElementById('oracle-msg');
            el.style.opacity = 0;
            setTimeout(() => {
                el.innerText = oracleMsgs[Math.floor(Math.random() * oracleMsgs.length)];
                el.style.opacity = 1;
            }, 300);
        }

        // --- MODALES ---
        function openModal(id) { document.getElementById(id).classList.add('active'); }
        function closeModal(e) { if(e.target.classList.contains('modal-overlay')) e.target.classList.remove('active'); }
        function forceClose() { document.querySelectorAll('.modal-overlay').forEach(m => m.classList.remove('active')); }

        // --- FONDO ESTRELLAS ---
        const cvs = document.getElementById('starfield');
        const ctx = cvs.getContext('2d');
        let w, h, stars = [];
        function initStars() {
            w = window.innerWidth; h = window.innerHeight;
            cvs.width = w; cvs.height = h;
            stars = [];
            for(let i=0; i<150; i++) stars.push({x:Math.random()*w, y:Math.random()*h, s:Math.random()*2, v:Math.random()*0.3});
        }
        function anim() {
            ctx.clearRect(0,0,w,h);
            ctx.fillStyle = "white";
            stars.forEach(st => {
                ctx.beginPath(); ctx.arc(st.x, st.y, st.s, 0, Math.PI*2); ctx.fill();
                st.y -= st.v; if(st.y<0) st.y=h;
            });
            requestAnimationFrame(anim);
        }
        window.onresize = initStars;
        initStars(); anim();
    </script>
</body>
</html>